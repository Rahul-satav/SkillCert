<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>SkillCert â€” Instant Certificates</title>
  <meta name="description" content="Get a professional, recruiter-ready certificate by passing a quick 5-question skill test. Perfect for resume and jobs."/>
  <link rel="icon" href="assets/logo.svg"/>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>

  <!-- Export libs -->
  <script src="https://cdn.jsdelivr.net/npm/html-to-image@1.11.11/dist/html-to-image.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

  <style>
    :root { --a:#6366f1; --b:#06b6d4; --c:#10b981; --d:#f59e0b; }
    body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:#f6f9fc; }
    .hero {
      background:
        radial-gradient(900px 380px at 10% -20%, rgba(99,102,241,.28), transparent 60%),
        radial-gradient(1100px 460px at 100% -10%, rgba(6,182,212,.28), transparent 60%),
        linear-gradient(135deg, #4f46e5, #06b6d4 60%, #14b8a6);
    }
    .card { transition: transform .15s ease, box-shadow .2s ease; }
    .card:hover { transform: translateY(-3px); box-shadow: 0 25px 40px rgba(2,6,23,.10); }
    /* Certificate */
    .cert-gradient {
      background:
        radial-gradient(1200px 600px at -10% -10%, rgba(99,102,241,.25), transparent 60%),
        radial-gradient(1000px 600px at 110% -20%, rgba(6,182,212,.25), transparent 60%),
        linear-gradient(135deg, #f8fafc 0%, #eef2ff 100%);
    }
    .frame { box-shadow: inset 0 0 0 2px rgba(15,23,42,.08), inset 0 0 0 14px rgba(148,163,184,.12); }
    .seal {
      background: conic-gradient(from 0deg, #fde68a, #fbbf24, #f59e0b, #fbbf24, #fde68a);
    }
  </style>
</head>
<body class="min-h-screen flex flex-col">

  <!-- Header -->
  <header class="bg-white/80 backdrop-blur border-b">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <img src="assets/logo.svg" class="h-6 w-6" alt="logo">
        <span class="font-semibold">SkillCert â€” Instant Certificates</span>
      </div>
      <nav class="text-sm text-slate-600 flex gap-4">
        <a href="#skills" class="hover:text-indigo-600">Skills</a>
        <a href="#form" class="hover:text-indigo-600">Details</a>
        <a href="#quiz" class="hover:text-indigo-600">Quiz</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero text-white border-b">
    <div class="max-w-6xl mx-auto px-4 py-12">
      <h1 class="text-3xl md:text-5xl font-extrabold tracking-tight">ðŸš€ Get Instant Verified Certificates</h1>
      <p class="mt-3 opacity-95 text-sm md:text-base">Perfect for resumes & jobs â€¢ Pass a 5-question test â€¢ Auto-download a professional certificate</p>
      <div class="mt-4 flex flex-wrap gap-2 text-xs">
        <span class="px-2 py-1 rounded-full bg-white/15 border border-white/30">Recruiter-friendly</span>
        <span class="px-2 py-1 rounded-full bg-white/15 border border-white/30">Looks premium</span>
        <span class="px-2 py-1 rounded-full bg-white/15 border border-white/30">Fast & simple</span>
      </div>
    </div>
  </section>

  <main class="max-w-6xl mx-auto px-4 py-8 space-y-8">

    <!-- Skills -->
    <section id="skills" class="rounded-2xl border bg-white p-4">
      <div class="flex items-center justify-between">
        <h2 class="text-base font-semibold">Choose Your Skill</h2>
        <p class="text-xs text-slate-500">50+ options â€¢ or type your own below</p>
      </div>
      <div id="skillsGrid" class="mt-3 grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-2"></div>
    </section>

    <!-- Details Form -->
    <section id="form" class="rounded-2xl border bg-white p-4">
      <h2 class="text-base font-semibold mb-3">Your Details</h2>
      <div class="grid sm:grid-cols-3 gap-3">
        <label class="block text-sm">Full Name
          <input id="userName" class="mt-1 w-full rounded-lg border px-3 py-2" placeholder="e.g., Rahul Satav">
        </label>
        <label class="block text-sm">Email (demo)
          <input id="userEmail" class="mt-1 w-full rounded-lg border px-3 py-2" placeholder="rahul@gmail.com">
        </label>
        <label class="block text-sm">Selected Skill (editable)
          <input id="skillName" class="mt-1 w-full rounded-lg border px-3 py-2" placeholder="e.g., React">
        </label>
      </div>
      <div class="mt-3">
        <button id="startQuizBtn" class="px-4 py-2 rounded-xl text-white bg-gradient-to-r from-[var(--a)] via-[var(--b)] to-[var(--c)] shadow">
          Start 5-Question Quiz
        </button>
        <span class="text-xs text-slate-500 ml-2">Email must be <b>rahul@gmail.com</b> (demo).</span>
      </div>
    </section>

    <!-- Quiz -->
    <section id="quiz" class="hidden rounded-2xl border bg-white p-4">
      <div class="flex items-center justify-between">
        <h2 class="text-base font-semibold">Quick Test â€¢ <span id="quizSkill"></span></h2>
        <p class="text-xs text-slate-500">Score â‰¥ <b>80%</b> to earn a certificate</p>
      </div>
      <div id="quizContainer" class="mt-3 space-y-4"></div>
      <div class="mt-4 flex items-center gap-3">
        <button id="submitQuizBtn" class="px-4 py-2 rounded-xl bg-slate-900 text-white">Submit Quiz</button>
        <p id="quizResult" class="text-sm font-medium"></p>
      </div>
    </section>

    <!-- Hidden Certificate (rendered then exported) -->
    <section id="certArea" class="hidden">
      <div id="certCard" class="relative mx-auto aspect-[1.414/1] w-full max-w-[1100px] rounded-2xl cert-gradient border frame shadow-xl overflow-hidden">
        <div class="absolute inset-0 opacity-20 pointer-events-none" style="background-image: radial-gradient(1000px 400px at 20% 0,#a78bfa 0,transparent 60%), radial-gradient(1000px 400px at 90% 0,#22d3ee 0,transparent 60%);"></div>
        <div class="relative z-10 h-full p-10 md:p-14 flex flex-col">
          <div class="flex items-start justify-between gap-4">
            <div class="flex items-center gap-3">
              <img src="assets/logo.svg" class="h-11 w-11" alt="logo"/>
              <div class="leading-tight">
                <div class="text-[11px] tracking-[0.35em] text-slate-500 font-semibold">SKILLCERT</div>
                <h2 class="text-2xl md:text-3xl font-extrabold tracking-tight">Certificate of Achievement</h2>
              </div>
            </div>
            <div class="seal rounded-full w-16 h-16 border-4 border-amber-300 shadow-inner"></div>
          </div>

          <div class="mt-8 text-slate-800">
            <p class="text-sm">This certifies that</p>
            <p class="mt-1 text-4xl md:text-6xl font-extrabold tracking-tight capitalize" id="certName">Candidate</p>
            <p class="mt-4 text-sm">has demonstrated skill in</p>
            <p class="mt-1 text-3xl md:text-4xl font-bold" id="certSkill">Skill</p>
            <p class="mt-4 max-w-3xl text-sm leading-relaxed text-slate-600">
              For demonstrating practical expertise via a proctored 5-question assessment and meeting the passing criteria.
            </p>
          </div>

          <div class="mt-auto grid grid-cols-2 gap-6 pt-10">
            <div class="space-y-1">
              <div class="h-9 w-40 border-b border-slate-400"></div>
              <p class="text-sm font-medium">Issued by Rahul Shahaji Satav</p>
              <p class="text-xs text-slate-500">Date: <span id="certDate"></span></p>
            </div>
            <div class="flex items-end justify-end">
              <div class="text-right">
                <p class="text-[11px] text-slate-500">Add this certificate to your resume and LinkedIn â€” great for job calls.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="pointer-events-none absolute inset-6 rounded-2xl border-2 border-slate-300"></div>
      </div>
    </section>

  </main>

  <footer class="py-8 text-center text-xs text-slate-500">
    Â© <span id="year"></span> SkillCert â€¢ Recruiter-ready, professional certificates.
  </footer>

  <!-- Modern Fail Modal -->
  <div id="failModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden items-center justify-center p-4 z-50">
    <div class="w-full max-w-sm rounded-2xl bg-white shadow-xl p-5">
      <div class="flex items-start gap-3">
        <div class="mt-1 shrink-0 w-10 h-10 rounded-full bg-rose-100 text-rose-700 flex items-center justify-center text-lg">âœ–</div>
        <div>
          <h3 class="text-base font-semibold">You didnâ€™t pass this time</h3>
          <p class="text-sm text-slate-600 mt-1">You need at least <b>80%</b>. Review and try again â€” youâ€™ve got this!</p>
        </div>
      </div>
      <div class="mt-4 flex gap-2 justify-end">
        <button id="closeFail" class="px-3 py-1.5 rounded-lg border bg-white">Close</button>
        <button id="retakeBtn" class="px-3 py-1.5 rounded-lg text-white" style="background: linear-gradient(90deg, var(--a), var(--b));">ðŸ”„ Retake quiz</button>
      </div>
    </div>
  </div>

<script>
  /* ---------- helpers ---------- */
  const $  = s => document.querySelector(s);
  const $$ = s => Array.from(document.querySelectorAll(s));
  const fancyScroll = id => window.scrollTo({top: document.querySelector(id).offsetTop - 70, behavior:'smooth'});

  /* ---------- skills ---------- */
  const skills = [
    "Java + Spring Boot","Angular","React","Node.js","Python","Django","Flask","FastAPI",
    "C","C++","C#",".NET","Ruby on Rails","Go","Rust","Kotlin","Swift","Objective-C",
    "Android","iOS","React Native","Flutter","HTML & CSS","JavaScript","TypeScript",
    "SQL","NoSQL","MongoDB","PostgreSQL","MySQL","Firebase","GraphQL","REST APIs",
    "Docker","Kubernetes","DevOps","CI/CD","Git & GitHub","Linux","Bash","Networking",
    "AWS","Azure","GCP","Cloud Security","Cyber Security","Ethical Hacking","Pen-Testing",
    "Data Analysis","Power BI","Tableau","Excel","Pandas","NumPy","Machine Learning",
    "Deep Learning","NLP","Computer Vision","MLOps","Data Engineering","Spark","Hadoop",
    "Salesforce","ServiceNow","QA Automation","Selenium","Playwright","Cypress","JMeter",
    "UI/UX Design","Figma","Canva","Business Analytics","Blockchain","Web3","Solidity"
  ];
  const skillsGrid = $("#skillsGrid");
  skills.forEach(s=>{
    const b = document.createElement('button');
    b.textContent = s;
    b.className = "card px-3 py-2 rounded-lg border bg-white hover:bg-indigo-50 text-sm";
    b.onclick = () => { $("#skillName").value = s; fancyScroll('#form'); };
    skillsGrid.appendChild(b);
  });

  /* ---------- question bank (some real, generic fallback otherwise) ---------- */
  const bank = {
    "Java + Spring Boot":[
      {q:"Which annotation starts a Spring Boot app?",a:["@SpringBootApplication","@EnableAutoConfiguration","@ComponentScan","@RestController"],c:0},
      {q:"Default embedded server?",a:["Tomcat","Jetty","Undertow","Netty"],c:0},
      {q:"Config file?",a:["application.properties","pom.xml","settings.gradle","bootstrap.yml"],c:0},
      {q:"JPA stands forâ€¦",a:["Java Persistence API","Java Package API","Java Processing API","JSON Persistence API"],c:0},
      {q:"Maps HTTP GET:",a:["@GetMapping","@PostMapping","@RequestBody","@PathVariable"],c:0}
    ],
    "React":[
      {q:"React state updates areâ€¦",a:["Asynchronous","Synchronous","Blocking","None"],c:0},
      {q:"JSX compiles toâ€¦",a:["React.createElement","HTML strings","DOM nodes","CSS"],c:0},
      {q:"Hook for side effects?",a:["useEffect","useState","useMemo","useRef"],c:0},
      {q:"Keys in lists should beâ€¦",a:["Stable & unique","Random each render","Index always","Same for all"],c:0},
      {q:"To lift state up youâ€¦",a:["Move state to common parent","Use context only","Global variable","Refs only"],c:0}
    ],
    "AWS":[
      {q:"S3 is used forâ€¦",a:["Object storage","Compute","Queues","DB"],c:0},
      {q:"EC2 providesâ€¦",a:["Virtual servers","Object storage","Data warehouse","Email"],c:0},
      {q:"Lambda isâ€¦",a:["Serverless compute","File storage","VPC","CDN"],c:0},
      {q:"RDS managesâ€¦",a:["Relational DBs","Queues","Monitoring","DNS"],c:0},
      {q:"CloudFront is aâ€¦",a:["CDN","SQL engine","IDE","OS"],c:0}
    ],
    "SQL":[
      {q:"Which keyword returns rows?",a:["SELECT","PUT","FIND","GET"],c:0},
      {q:"JOIN combines rows fromâ€¦",a:["Multiple tables","One column","File system","Logs"],c:0},
      {q:"To filter rows useâ€¦",a:["WHERE","ORDER","GROUP","HAVING only"],c:0},
      {q:"Aggregate function?",a:["COUNT","PRINT","SUMIF","MAP"],c:0},
      {q:"Primary key isâ€¦",a:["Unique identifier","A foreign key","A view","A file"],c:0}
    ]
  };

  /* ---------- start quiz ---------- */
  $("#startQuizBtn").addEventListener('click', () => {
    const name  = $("#userName").value.trim();
    const email = $("#userEmail").value.trim();
    const skill = $("#skillName").value.trim();
    if(!name || !email || !skill){ toast("Please enter your name, email and skill."); return; }
    if(email.toLowerCase() !== "rahul@gmail.com"){ toast("For demo, email must be rahul@gmail.com"); return; }

    const set = bank[skill] || [
      {q:`${skill}: Which statement is true?`,a:["It improves with practice","It cannot be measured","Only theory matters","None"],c:0},
      {q:"A strong portfolio showsâ€¦",a:["Applied skill","Only certs","Only grades","Only theory"],c:0},
      {q:"Version control used isâ€¦",a:["Git","SVN only","Zip files","Email"],c:0},
      {q:"Writing tests helpsâ€¦",a:["Quality & confidence","Slows everything","Costs only","Nothing"],c:0},
      {q:"Docs should beâ€¦",a:["Clear & updated","Skipped","Private only","Screenshots"],c:0}
    ];

    // Build quiz
    $("#quizContainer").innerHTML = "";
    set.slice(0,5).forEach((item,idx)=>{
      const div = document.createElement('div');
      div.className = "rounded-xl border p-3 bg-white/80";
      div.innerHTML = `
        <p class="font-medium">${idx+1}. ${item.q}</p>
        <div class="mt-2 grid sm:grid-cols-2 gap-2">
          ${item.a.map((opt,i)=>`
            <label class="inline-flex items-center gap-2 text-sm">
              <input type="radio" name="q${idx}" value="${i}">
              <span>${opt}</span>
            </label>`).join('')}
        </div>`;
      $("#quizContainer").appendChild(div);
    });
    $("#quizSkill").textContent = skill;
    $("#quiz").classList.remove('hidden');
    fancyScroll('#quiz');
  });

  /* ---------- submit quiz (with modern fail modal + retake) ---------- */
  const failModal = $("#failModal");
  const closeFail = $("#closeFail");
  const retakeBtn = $("#retakeBtn");

  $("#submitQuizBtn").addEventListener('click', async () => {
    let score = 0;
    for(let i=0;i<5;i++){
      const chosen = document.querySelector(`input[name="q${i}"]:checked`);
      // in our sets, correct answers are at index 0
      if(chosen && Number(chosen.value)===0) score++;
    }
    const pct = Math.round((score/5)*100);
    const res = $("#quizResult");
    res.textContent = `Score: ${score}/5 (${pct}%)`;
    res.className = "text-sm font-medium " + (pct>=80?"text-emerald-600":"text-rose-600");

    if(pct>=80){
      // Build certificate DOM then export to PDF
      buildCertificate();
      await new Promise(r=>setTimeout(r,200)); // small paint delay
      autoDownloadPDF();
    } else {
      // Show modern modal with retake
      failModal.classList.remove('hidden');
      failModal.classList.add('flex');
    }
  });

  closeFail.addEventListener('click', ()=> {
    failModal.classList.add('hidden');
    failModal.classList.remove('flex');
  });

  retakeBtn.addEventListener('click', ()=> {
    // Reset all quiz radio buttons
    for (let i=0;i<5;i++){
      document.querySelectorAll(`input[name="q${i}"]`).forEach(inp=>inp.checked=false);
    }
    $("#quizResult").textContent="";
    failModal.classList.add('hidden');
    failModal.classList.remove('flex');
    fancyScroll('#quiz');
  });

  /* ---------- certificate builder ---------- */
  function buildCertificate(){
    $("#certName").textContent = $("#userName").value.trim();
    $("#certSkill").textContent = $("#skillName").value.trim();
    $("#certDate").textContent  = new Date().toLocaleDateString();
    $("#certArea").classList.remove('hidden');
  }

  /* ---------- export PDF ---------- */
  async function autoDownloadPDF(){
    const node = document.getElementById('certCard');
    // ensure all images are loaded
    await Promise.all([...node.querySelectorAll('img')].map(img=>{
      if(img.complete && img.naturalWidth>0) return Promise.resolve();
      return new Promise(res=>{ img.onload=res; img.onerror=res; });
    }));
    try{
      const dataUrl = await htmlToImage.toPng(node,{pixelRatio:2,cacheBust:true,useCORS:true});
      const { jsPDF } = window.jspdf;
      const pdf = new jsPDF({orientation:'landscape', unit:'pt', format:'a4'});
      const pageW = pdf.internal.pageSize.getWidth();
      const pageH = pdf.internal.pageSize.getHeight();
      const img = new Image(); img.src = dataUrl;
      img.onload = () => {
        const ratio = Math.min(pageW/img.width, pageH/img.height);
        const w = img.width * ratio, h = img.height * ratio;
        pdf.addImage(dataUrl, 'PNG', (pageW-w)/2, (pageH-h)/2, w, h);
        pdf.save('SkillCert_Certificate.pdf');
        window.scrollTo({top:0,behavior:'smooth'});
        toast("ðŸŽ‰ Certificate downloaded! Add it to your resume and LinkedIn.");
      };
    }catch(e){
      console.error(e);
      toast("PDF export failed. Try once more (refresh).");
    }
  }

  /* ---------- tiny toast ---------- */
  function toast(msg){
    const el=document.createElement('div');
    el.textContent=msg;
    el.className="fixed left-1/2 -translate-x-1/2 bottom-6 px-4 py-2 rounded-xl text-white text-sm shadow-lg z-50";
    el.style.background="linear-gradient(90deg, var(--a), var(--b), var(--c))";
    document.body.appendChild(el);
    setTimeout(()=>{ el.style.opacity='.0'; el.style.transition='opacity .5s'; setTimeout(()=>el.remove(),500); },2200);
  }

  /* footer year */
  document.getElementById('year').textContent = new Date().getFullYear();
</script>
</body>
</html>
